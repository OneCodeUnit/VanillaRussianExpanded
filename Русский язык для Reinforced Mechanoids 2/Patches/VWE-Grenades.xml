<?xml version="1.0" encoding="utf-8"?>
<Patch>
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Weapons Expanded - Grenades</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>
				<!-- ================================ Replaces texture with loose version ====================== -->
				<li Class="PatchOperationReplace">
					<xpath>/Defs/ThingDef[defName="RM_Weapon_GrenadePlasmaImmolator"]/graphicData</xpath>
					<value>
						<graphicData>
							<texPath>Things/Item/Equipment/LooseGrenades/MechanoidImmolatorGrenadesLoose</texPath>
							<graphicClass>Graphic_Single</graphicClass>
						</graphicData>
					</value>
				</li>
				<!-- ================================ Adds belt version ====================== -->
				<li Class="PatchOperationAdd">
					<xpath>Defs</xpath>
					<value>
						<ThingDef ParentName="ApparelNoQualityBase">
							<defName>VWE_Apparel_GrenadePlasmaImmolator</defName>
							<label>immolator grenade belt</label>
							<description>A belt of antipersonnel plasma pulse grenades. The resulting explosion will ignite anything nearby. Can be reloaded using plasma grenades.</description>
							<techLevel>Ultra</techLevel>
							<graphicData>
								<texPath>Things/Item/Equipment/WeaponRanged/MechanoidImmolatorGrenades</texPath>
								<graphicClass>Graphic_Single</graphicClass>
							</graphicData>
							<tickerType>Normal</tickerType>
							<statBases>
								<WorkToMake>500</WorkToMake>
								<Mass>4</Mass>
								<Flammability>0.4</Flammability>
								<EquipDelay>2</EquipDelay>
							</statBases>
							<recipeMaker>
								<unfinishedThingDef>UnfinishedPack</unfinishedThingDef>
								<recipeUsers>
									<li>TableMachining</li>
								</recipeUsers>
								<useIngredientsForColor>false</useIngredientsForColor>
								<workSpeedStat>GeneralLaborSpeed</workSpeedStat>
								<workSkill>Crafting</workSkill>
								<effectWorking>Smith</effectWorking>
								<soundWorking>Recipe_Smith</soundWorking>
								<skillRequirements>
									<Crafting>3</Crafting>
								</skillRequirements>
							</recipeMaker>
							<costList>
								<RM_Weapon_GrenadePlasmaImmolator>1</RM_Weapon_GrenadePlasmaImmolator>
							</costList>
							<thingCategories>
								<li>ApparelUtility</li>
							</thingCategories>
							<generateAllowChance>0</generateAllowChance>
							<verbs>
								<li>
									<label>throw plasma grenade</label>
									<verbClass>Verb_LaunchProjectileStatic</verbClass>
									<hasStandardCommand>true</hasStandardCommand>
									<onlyManualCast>True</onlyManualCast>
									<range>12.9</range>
									<forcedMissRadius>1.9</forcedMissRadius>
									<warmupTime>1.5</warmupTime>
									<noiseRadius>4</noiseRadius>
									<ai_IsBuildingDestroyer>true</ai_IsBuildingDestroyer>
									<soundCast>ThrowGrenade</soundCast>
									<drawHighlightWithLineOfSight>true</drawHighlightWithLineOfSight>
									<targetParams>
										<canTargetLocations>true</canTargetLocations>
									</targetParams>
									<defaultProjectile>RM_Proj_GrenadeImmolator</defaultProjectile>
									<rangedFireRulepack>Combat_RangedFire_Thrown</rangedFireRulepack>
								</li>
							</verbs>
							<apparel>
								<wornGraphicPath>Things/Pawn/Humanlike/Apparel/FragGrenadeBelt/FragGrenadeBelt</wornGraphicPath>
								<wornGraphicData>
									<renderUtilityAsPack>true</renderUtilityAsPack>
									<north>
										<offset>(-0.30,-0.25)</offset>
										<hulk>
											<offset>(-0.0,-0.15)</offset>
										</hulk>
										<fat>
											<offset>(-0.0,-0.0)</offset>
										</fat>
										<thin>
											<offset>(0.10,-0.0)</offset>
										</thin>
									</north>
									<south>
										<offset>(0.25,-0.20)</offset>
										<hulk>
											<offset>(-0.0,-0.10)</offset>
										</hulk>
										<fat>
											<offset>(-0.0,-0.0)</offset>
										</fat>
										<thin>
											<offset>(-0.10,-0.0)</offset>
										</thin>
									</south>
									<east>
										<offset>(-0.15,-0.25)</offset>
										<hulk>
											<offset>(-0.0,-0.15)</offset>
										</hulk>
										<fat>
											<offset>(-0.10,-0.10)</offset>
										</fat>
									</east>
									<west>
										<offset>(0.15,-0.25)</offset>
										<hulk>
											<offset>(-0.0,-0.15)</offset>
										</hulk>
										<fat>
											<offset>(-0.0,-0.10)</offset>
										</fat>
									</west>
									<male>
										<scale>(0.75,0.75)</scale>
									</male>
									<female>
										<scale>(0.75,0.75)</scale>
									</female>
									<thin>
										<scale>(0.7,0.7)</scale>
									</thin>
									<hulk>
										<scale>(0.9,0.9)</scale>
									</hulk>
									<fat>
										<scale>(0.9,0.9)</scale>
									</fat>

								</wornGraphicData>
								<careIfWornByCorpse>false</careIfWornByCorpse>
								<careIfDamaged>false</careIfDamaged>
								<wearPerDay>0</wearPerDay>
								<bodyPartGroups>
									<li>Waist</li>
								</bodyPartGroups>
								<layers>
									<li>Belt</li>
								</layers>
								<tags Inherti="False"/>
							</apparel>
							<comps>
								<li Class="CompProperties_Reloadable">
									<maxCharges>5</maxCharges>
									<ammoDef>RM_Weapon_GrenadePlasmaImmolator</ammoDef>
									<ammoCountToRefill>1</ammoCountToRefill>
									<baseReloadTicks>60</baseReloadTicks>
									<soundReload>Standard_Reload</soundReload>
									<chargeNoun>plasma</chargeNoun>
									<displayGizmoWhileUndrafted>false</displayGizmoWhileUndrafted>
								</li>
							</comps>
						</ThingDef>
					</value>
				</li>
			</operations>
		</match>
	</Operation>
</Patch>